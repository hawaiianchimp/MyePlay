<!DOCTYPE html>
<html>
<head>
  <title>Video.js | HTML5 Video Player</title>

  <!-- Chang URLs to wherever Video.js files will be hosted -->
  <link href="css/video-js.css" rel="stylesheet" type="text/css">
  <link href="css/myeplay.css" rel="stylesheet" type="text/css">
  <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
  <!-- video.js must be in the <head> for older IEs to work. -->
  <script src="js/video.js"></script>
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.js"></script>
    

  <!-- Unless using the CDN hosted version, update the URL to the Flash SWF -->
  <script>
    videojs.options.flash.swf = "video-js.swf";
    
    $(document).ready(function(){
    	console.log("ready");
    
	    $("#play").on("click", function(e){
	    	videojs.players["video"].play();
	    });
	    
	    $("#pause").on("click", function(e){
	    	videojs.players["video"].pause();
	    });
	    
		var isHoverMenuActivate = false;
		var isHoverCloseButton = false;
		var isHoverVolumeButton = false;
		var isHoverVolUp = false;
		var isHoverVolBack = false;
		var isHoverVolDown = false;
		var timerConstOpen;
		var timerConstClose;
		var timerConstVolumeMenu;
		var timerConstVolUp;
		var timerConstVolBack;
		var timerConstVolDown;
		var secondsOpen = 2;
		var secondsClose = 2;
		var secondsVolumeMenu = 2;
		var secondsVolUp = 2;
		var secondsVolBack = 2;
		var secondsVolDown = 2;
		var milliOpen = 1;
		var milliClose = 1;
		var milliVolumeMenu = 1;
		var milliVolUp = 1;
		var milliVolBack = 1;
		var milliVolDown = 1;
		var currentVolume;
		var delay = 2000;

	    var activateMenu = function(e){	
			if(! isHoverMenuActivate) {
				return;
			}
	    	console.log("menu-activate");
	    	$("#menu").modal('show');
	    	videojs.players["video"].pause();
	    }

	    var deactivateMenu = function(e){
	    	if(! isHoverCloseButton) {
	    		return;
	    	}
	    	console.log("menu-deactivate");
	    	$("#menu").modal('hide');
	    	videojs.players["video"].play();
	    }

		var modalTimerOpenMenu = function(e) {
			console.log("modaltimer openmenucalled")
			if(secondsOpen == 0 && milliOpen == 0) {
				activateMenu(e);
				clearInterval(timerConstOpen);
			}
			else if(milliOpen == 0) {
				milliOpen = 9;
				--secondsOpen;
				$("#menu-activate").html("" + secondsOpen + "." + milliOpen);
			}
			else {
				$("#menu-activate").html("" + secondsOpen + "." + --milliOpen);
			}
		}

		var modalTimerCloseMenu = function(e) {
			console.log("modaltimer closemenu called")
			if(secondsClose == 0 && milliClose == 0) {
				deactivateMenu(e);
				clearInterval(timerConstClose);
				$("#close-button").html("Close");
			}
			else if(milliClose == 0) {
				milliClose = 9;
				--secondsClose;
				$("#close-button").html("" + secondsClose + "." + milliClose);
			}
			else {
				$("#close-button").html("" + secondsClose + "." + --milliClose);
			}
		}

	    $("#menu-activate").on("mouseover", function(e) {
			isHoverMenuActivate = true;
			// sleep 2 seconds
	    	$("#menu-activate").css("background-color", "#CCCCCC");
	    	timerConstOpen = setInterval(function() {modalTimerOpenMenu(e)}, 100);
		});

		$("#close-button").on("mouseover", function(e) {
			isHoverCloseButton = true;
			// sleep 2 seconds
	    	timerConstClose = setInterval(function() {modalTimerCloseMenu(e)}, 100);
		});
		
		$('#menu-activate').on("mouseout", function(e) {
			isHoverMenuActivate = false;
			$("#menu-activate").css("background-color", "#555555");

			clearInterval(timerConstOpen);
			$("#menu-activate").html("");
			secondsOpen = 2;
			milliOpen = 1;
		});

		$('#close-button').on("mouseout", function(e) {
			isHoverCloseButton = false;
			$("#close-button").html("Close");
			clearInterval(timerConstClose);
			secondsClose = 2;
			milliClose = 1;
		});
	    
	 
	 
	 	// Volume Menu
		var activateVolumeMenu = function(e){
	    	if(! isHoverVolumeButton) {
	    		return;
	    	}
	    	console.log("menu-volume-activated");
	    	$("#menu").modal('hide');
	    	$("#volume").modal('show');
	    }

		var modalTimerVolumeMenu = function(e) {
			console.log("modaltimer volumemenu called")
			if(secondsVolumeMenu == 0 && milliVolumeMenu == 0) {
				activateVolumeMenu(e);
				clearInterval(timerConstVolumeMenu);
				$("#volume-button").html("Volume");
			}
			else if(milliVolumeMenu == 0) {
				milliVolumeMenu = 9;
				--secondsVolumeMenu;
				$("#volume-button").html("" + secondsVolumeMenu + "." + milliVolumeMenu);
			}
			else {
				$("#volume-button").html("" + secondsVolumeMenu + "." + --milliVolumeMenu);
			}
		}

		$("#volume-button").on("mouseover", function(e) {
			isHoverVolumeButton = true;
			// sleep 2 seconds
	    	timerConstVolumeMenu = setInterval(function() {modalTimerVolumeMenu(e)}, 100);
		});

		$('#volume-button').on("mouseout", function(e) {
			isHoverVolumeButton = false;
			$("#volume-button").html("Volume");
			clearInterval(timerConstVolumeMenu);
			secondsVolumeMenu = 2;
			milliVolumeMenu = 1;
		});




		// Volume Menu Controls (Volume Up, Back, Volume Down)
		var volumeUp = function(e){	
			if(! isHoverVolUp) {
				return;
			}
	    	console.log("hover-volumeup");
	    	currentVolume = videojs.players["video"].volume();
	    	if(currentVolume < 1)
	    		videojs.players["video"].volume(currentVolume + 0.1);
		}

		var deactivateVolumeMenu = function(e){
	    	if(! isHoverVolBack) {
	    		return;
	    	}
	    	console.log("menu-volume-deactivated");
	    	$("#volume").modal('hide');
	    	$("#menu").modal('show');
	    }

		var volumeDown = function(e){	
			if(! isHoverVolDown) {
				return;
			}
	    	console.log("hover-volumedown");
	    	//$("#menu").modal('toggle');
	    	currentVolume = videojs.players["video"].volume();
	    	if(currentVolume > 0)
	    		videojs.players["video"].volume(currentVolume - 0.1);
		}

		var modalTimerVolUp = function(e) {
			console.log("modaltimer volupcalled")
			if(secondsVolUp == 0 && milliVolUp == 0) {
				activateMenu(e);
				clearInterval(timerConstVolUp);
			}
			else if(milliVolUp == 0) {
				milliVolUp = 9;
				--secondsVolUp;
				$("#volumeup-button").html("" + secondsVolUp + "." + milliVolUp);
			}
			else {
				$("#volumeup-button").html("" + secondsVolUp + "." + --milliVolUp);
			}
		}

		var modalTimerVolBack = function(e) {
			console.log("modaltimer volbackcalled")
			if(secondsVolBack == 0 && milliVolBack == 0) {
				deactivateVolumeMenu(e);
				clearInterval(timerConstVolBack);
			}
			else if(milliVolBack == 0) {
				milliVolBack = 9;
				--secondsVolBack;
				$("#volumeback-button").html("" + secondsVolBack + "." + milliVolBack);
			}
			else {
				$("#volumeback-button").html("" + secondsVolBack + "." + --milliVolBack);
			}
		}

		var modalTimerVolDown = function(e) {
			console.log("modaltimer volDowncalled")
			if(secondsVolDown == 0 && milliVolDown == 0) {
				activateMenu(e);
				clearInterval(timerConstVolDown);
				$("#volumedown-button").html("" + secondsVolDown + "." + milliVolDown);
			}
			else if(milliVolDown == 0) {
				milliVolDown = 9;
				--secondsVolDown;
				$("#volumedown-button").html("" + secondsVolDown + "." + milliVolDown);
			}
			else {
				$("#volumedown-button").html("" + secondsVolDown + "." + --milliVolDown);
			}
		}

		$("#volumeup-button").on("mouseover", function(e) {
			isHoverVolUp = true;
			// sleep 2 seconds
	    	timerConstVolUp = setInterval(function() {modalTimerVolUp(e)}, 100);
		});

		$("#volumeback-button").on("mouseover", function(e) {
			isHoverVolBack = true;
			// sleep 2 seconds
	    	timerConstVolBack = setInterval(function() {modalTimerVolBack(e)}, 100);
		});

		$("#volumedown-button").on("mouseover", function(e) {
			isHoverVolDown = true;
			// sleep 2 seconds
	    	timerConstVolDown = setInterval(function() {modalTimerVolDown(e)}, 100);
		});

		$('#volumeup-button').on("mouseout", function(e) {
			isHoverVolUp = false;
			$("#volumeup-button").html("Volume Up");
			clearInterval(timerConstVolUp);
			secondsVolUp = 2;
			milliVolUp = 1;
		});

		$('#volumeback-button').on("mouseout", function(e) {
			isHoverVolBack = false;
			$("#volumeback-button").html("Back");
			clearInterval(timerConstVolBack);
			secondsVolBack = 2;
			milliVolBack = 1;
		});

		$('#volumedown-button').on("mouseout", function(e) {
			isHoverVolDown = false;
			$("#volumedown-button").html("Volume Down");
			clearInterval(timerConstVolDown);
			secondsVolDown = 2;
			milliVolDown = 1;
		});

	 });
  </script>


</head>
<body>
<div id="menu-activate">
</div>
  <video id="video" class="video-js vjs-default-skin" controls preload="none" width="100%" height="600"
      poster="http://video-js.zencoder.com/oceans-clip.png"
      data-setup="{}">
    <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4' />
    <source src="http://video-js.zencoder.com/oceans-clip.webm" type='video/webm' />
    <source src="http://video-js.zencoder.com/oceans-clip.ogv" type='video/ogg' />
    <track kind="captions" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
    <track kind="subtitles" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
    <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
  </video>
  
  <div class="menu" style="display:none;">
  	<button id="play">Play</button>
    <button id="pause">Pause</button>
  </div>
  
   <div class="modal fade" id="menu">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            	<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span>
            		<span class="sr-only">Close</span>
            	</button>
            	<h4 class="modal-title">Menu</h4>
            </div><!--header-->
            <div class="modal-body">
			  <ul class="list-group">
			  	<a id="close-button" href="#" class="list-group-item">Close</a>
			  	<a id="channels-button" href="#" class="list-group-item">Channels</a>
			  	<a id="volume-button" href="#" class="list-group-item">Volume</a>
			  	<a id="exit-button" href="#" class="list-group-item">Exit</a>
			  </ul>
			</div><!--header-->
			<div class="modal-footer">
			</div><!--footer-->
		</div><!--modal content-->
	</div><!--modal dialog--> 
   </div><!--modal-->

   <div class="modal fade" id="volume" style="display: none">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            	<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span>
            		<span class="sr-only">Close</span>
            	</button>
            	<h4 class="modal-title">Volume</h4>
            </div><!--header-->
            <div class="modal-body">
			  <ul class="list-group">
			  	<a id="volumeup-button" href="#" class="list-group-item">Volume Up</a>
			  	<a id="volumeback-button" href="#" class="list-group-item">Back</a>
			  	<a id="volumedown-button" href="#" class="list-group-item">Volume Down</a>
			  </ul>
			</div><!--header -->
			<div class="modal-footer">
			</div><!--footer-->
		</div><!--modal content-->
	</div><!--modal dialog--> 
   </div><!--modal-->


  

</body>
</html>
